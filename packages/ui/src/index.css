@tailwind base;
@tailwind components;
@tailwind utilities;

/* Theme color variables - defaults to purple/cyan (original DemoScript look) */
/* These are dynamically set by ThemeContext based on YAML config */
:root {
  --color-primary: #8b5cf6;
  --color-accent: #06b6d4;
  --color-primary-rgb: 139, 92, 246;
  --color-accent-rgb: 6, 182, 212;
}

/* Hide scrollbar utility */
.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

/* Light mode (default) */
:root {
  color-scheme: light;
}

/* Dark mode */
:root.dark {
  color-scheme: dark;
}

body {
  @apply antialiased;
  min-height: 100vh;
  transition: background-color 0.3s, color 0.3s;
}

/* Light mode gradient class - subtle theme color tints in corners */
html:not(.dark) .light-mode-gradient {
  background: linear-gradient(
    135deg,
    rgba(var(--color-primary-rgb), 0.05) 0%,
    rgba(var(--color-primary-rgb), 0.03) 15%,
    #ffffff 50%,
    rgba(var(--color-accent-rgb), 0.03) 85%,
    rgba(var(--color-accent-rgb), 0.05) 100%
  ) !important;
  background-attachment: fixed !important;
}

html:not(.dark) body {
  color: #1e293b;
}

/* Light mode accent touches */
html:not(.dark) {
  /* Subtle primary color tint on selection */
  ::selection {
    background: rgba(var(--color-primary-rgb), 0.2);
  }
}

/* Light mode card enhancements */
html:not(.dark) .light-theme-card {
  border-color: rgba(var(--color-primary-rgb), 0.15);
  box-shadow: 0 4px 6px -1px rgba(var(--color-primary-rgb), 0.08),
              0 2px 4px -2px rgba(var(--color-primary-rgb), 0.06);
}

/* Light mode themed border - use on headers/cards for accent */
.light-border-accent {
  border-top: 3px solid transparent;
  border-image: linear-gradient(90deg, var(--color-primary), var(--color-accent)) 1;
}

/* Light mode subtle glow for active elements */
html:not(.dark) .light-glow-primary {
  box-shadow: 0 4px 14px rgba(var(--color-primary-rgb), 0.15),
              0 2px 6px rgba(var(--color-primary-rgb), 0.1);
}

/* Dark mode body */
.dark body {
  background: linear-gradient(135deg, #0f172a 0%, rgba(var(--color-primary-rgb), 0.15) 50%, #0f172a 100%);
  background-attachment: fixed;
  color: #e2e8f0;
}

/* Dynamic theme glow effect using CSS variables */
.neon-glow-primary {
  box-shadow: 0 0 20px rgba(var(--color-primary-rgb), 0.5), 0 0 40px rgba(var(--color-primary-rgb), 0.3);
}

.neon-glow-accent {
  box-shadow: 0 0 20px rgba(var(--color-accent-rgb), 0.5), 0 0 40px rgba(var(--color-accent-rgb), 0.3);
}

.neon-text-primary {
  text-shadow: 0 0 10px rgba(var(--color-primary-rgb), 0.8), 0 0 20px rgba(var(--color-primary-rgb), 0.6);
}

.neon-text-accent {
  text-shadow: 0 0 10px rgba(var(--color-accent-rgb), 0.8), 0 0 20px rgba(var(--color-accent-rgb), 0.6);
}

/* Neon glow effects - box shadows */
.neon-glow-cyan {
  box-shadow: 0 0 20px rgba(6, 182, 212, 0.5), 0 0 40px rgba(6, 182, 212, 0.3);
}

.neon-glow-purple {
  box-shadow: 0 0 20px rgba(168, 85, 247, 0.5), 0 0 40px rgba(168, 85, 247, 0.3);
}

.neon-glow-green {
  box-shadow: 0 0 20px rgba(34, 197, 94, 0.5), 0 0 40px rgba(34, 197, 94, 0.3);
}

.neon-glow-pink {
  box-shadow: 0 0 20px rgba(236, 72, 153, 0.5), 0 0 40px rgba(236, 72, 153, 0.3);
}

.neon-glow-orange {
  box-shadow: 0 0 20px rgba(251, 146, 60, 0.5), 0 0 40px rgba(251, 146, 60, 0.3);
}

/* Neon text effects - text shadows */
.neon-text-cyan {
  text-shadow: 0 0 10px rgba(6, 182, 212, 0.8), 0 0 20px rgba(6, 182, 212, 0.6);
}

.neon-text-purple {
  text-shadow: 0 0 10px rgba(168, 85, 247, 0.8), 0 0 20px rgba(168, 85, 247, 0.6);
}

.neon-text-green {
  text-shadow: 0 0 10px rgba(34, 197, 94, 0.8), 0 0 20px rgba(34, 197, 94, 0.6);
}

.neon-text-pink {
  text-shadow: 0 0 10px rgba(236, 72, 153, 0.8), 0 0 20px rgba(236, 72, 153, 0.6);
}

.neon-text-orange {
  text-shadow: 0 0 10px rgba(251, 146, 60, 0.8), 0 0 20px rgba(251, 146, 60, 0.6);
}

/* Custom animations */
@keyframes draw-check {
  to {
    stroke-dashoffset: 0;
  }
}

@keyframes bounce-once {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-10px);
  }
}

@keyframes glow-pulse {
  0%, 100% {
    box-shadow: 0 0 20px rgba(var(--color-primary-rgb), 0.3);
  }
  50% {
    box-shadow: 0 0 40px rgba(var(--color-primary-rgb), 0.6);
  }
}

@keyframes movePacket {
  0% {
    left: 60px;
  }
  50% {
    left: calc(50% - 16px);
  }
  100% {
    left: calc(100% - 140px);
    opacity: 0;
  }
}

@keyframes shimmer {
  0% {
    transform: translateX(-100%);
  }
  100% {
    transform: translateX(400%);
  }
}

.animate-bounce-once {
  animation: bounce-once 0.5s ease-out;
}

.animate-glow-pulse {
  animation: glow-pulse 2s ease-in-out infinite;
}

/* Light mode prose */
.prose pre {
  @apply bg-gray-100 text-gray-800 border border-gray-200;
}

.prose code {
  @apply bg-gray-100 text-theme-primary px-1.5 py-0.5 rounded text-sm border border-gray-200;
}

.prose pre code {
  @apply bg-transparent text-inherit p-0 border-0;
}

/* Dark mode prose */
.dark .prose pre {
  @apply bg-slate-950 text-slate-100 border-slate-700/50;
}

.dark .prose code {
  @apply bg-slate-700/50 text-theme-primary border-slate-600/50;
}

.dark .prose pre code {
  @apply bg-transparent text-inherit p-0 border-0;
}

/* Theme-specific styling - sidebar and header tints */
html[data-theme-preset].dark .sidebar-themed {
  background: linear-gradient(to bottom, rgba(var(--color-primary-rgb), 0.08), rgba(15, 23, 42, 0.98));
  border-color: rgba(var(--color-primary-rgb), 0.2);
}

html[data-theme-preset].dark .header-themed {
  background: linear-gradient(to right, rgba(var(--color-primary-rgb), 0.08), rgba(15, 23, 42, 0.9));
  border-color: rgba(var(--color-primary-rgb), 0.2);
  box-shadow: 0 4px 6px -1px rgba(var(--color-primary-rgb), 0.1);
}
